<!doctype html>
<html lang="en" data-vocs>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="/initializeTheme.iife.js"></script><link rel="preload" as="image" href="/images/jincubator.png"/><link rel="preload" as="image" href="//research/harmony-consensus.png"/><title>Harmony – John Whitton</title><link rel="icon" href="/images/jincubator.png" type="image/png"/><meta property="og:type" content="website"/><meta property="og:title" content="Harmony"/><meta property="og:image" content="https://vocs.dev/api/og?logo=/images/jincubator.png&title=Harmony&description="/><meta name="twitter:card" content="summary_large_image"/><meta property="twitter:image" content="https://vocs.dev/api/og?logo=/images/jincubator.png&title=Harmony&description=undefined"/>
    <script type="module" crossorigin src="/assets/index-C6RsGgs6.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/style-Be0W4_oP.css">
  </head>
  <body>
    <div id="app"><div class="vocs_DocsLayout" data-layout="docs"><a class="vocs_SkipLink vocs_utils_visuallyHidden" href="/research/chains/harmony#vocs-content">Skip to content</a><div class="vocs_DocsLayout_gutterLeft"><aside class="vocs_Sidebar vocs_DocsLayout_sidebar"><div><div class="vocs_Sidebar_logoWrapper"><div class="vocs_Sidebar_logo"><a style="align-items:center;display:flex;height:100%" href="/" data-discover="true"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/images/jincubator.png"/></a></div><div class="vocs_Sidebar_divider"></div></div><nav class="vocs_Sidebar_navigation"><div class="vocs_Sidebar_group"><section class="vocs_Sidebar_section"><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/intro" variant="styleless" data-discover="true">John&#x27;s Research</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Solving and Arbitrage</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/solving/intro" variant="styleless" data-discover="true">Solving and Arbitrage Intro</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/solving/architecture" variant="styleless" data-discover="true">Reference Architecture</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/solving/flow" variant="styleless" data-discover="true">IntentSwap Flow</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/solving/hooks" variant="styleless" data-discover="true">Uniswap V4 Hooks</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Primitives</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/primitives/intro" variant="styleless" data-discover="true">Primitives Intro</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/primitives/fraud-proofs" variant="styleless" data-discover="true">Fraud Proofs</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/primitives/light-clients" variant="styleless" data-discover="true">Light Clients</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/primitives/primitives" variant="styleless" data-discover="true">Cryptogaphic Primitives</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/primitives/weak-subjectivity" variant="styleless" data-discover="true">Weak Subjectivity</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/primitives/signatures" variant="styleless" data-discover="true">Signature Schemes</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Zero Knowledge</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/zk/intro" variant="styleless" data-discover="true">Zero Knowledge Intro</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/zk/zkpos" variant="styleless" data-discover="true">ZK Proof of Stake</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/zk/zksnarks" variant="styleless" data-discover="true">zk-Snarks</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/zk/axiom" variant="styleless" data-discover="true">Axiom</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Cross Chain Bridges</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/bridge/intro" variant="styleless" data-discover="true">Bridging Intro</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/bridge/cosmos-ibc" variant="styleless" data-discover="true">Cosmos IBC</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/bridge/harmony-horizon" variant="styleless" data-discover="true">Harmony Horizon</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/bridge/isomorph" variant="styleless" data-discover="true">Isomorph</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/bridge/near-rainbow" variant="styleless" data-discover="true">Near Rainbow Bridge</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/bridge/polymerlabs" variant="styleless" data-discover="true">Polymer Labs</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/bridge/snowbridge" variant="styleless" data-discover="true">Snowbridge</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/bridge/succinct" variant="styleless" data-discover="true">Succint</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Layer 1 Platforms</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/intro" variant="styleless" data-discover="true">Layer 1 Intro</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/avalanche" variant="styleless" data-discover="true">Avalanche</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/binance" variant="styleless" data-discover="true">Binance Smart Chain</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/cosmos" variant="styleless" data-discover="true">Cosmos</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/ethereum-1-0" variant="styleless" data-discover="true">Ethereum 1.0</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/ethereum" variant="styleless" data-discover="true">Ethereum</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/NEAR" variant="styleless" data-discover="true">NEAR</a><a data-active="true" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/harmony" variant="styleless" data-discover="true">Harmony</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/polkadot" variant="styleless" data-discover="true">Polkadot</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/chains/polygon" variant="styleless" data-discover="true">Polygon</a></div></section><section class="vocs_Sidebar_section vocs_Sidebar_level"><div class="vocs_Sidebar_sectionHeader"><div class="vocs_Sidebar_sectionTitle">Code Reviews</div></div><div class="vocs_Sidebar_items"><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/code/intro" variant="styleless" data-discover="true">Code Review Intro</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/code/horizon" variant="styleless" data-discover="true">Horizon Bridge</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/code/ethereum-near" variant="styleless" data-discover="true">Ethereum Near Bridge</a><a data-active="false" class="vocs_Sidebar_item vocs_Link vocs_Link_styleless" href="/research/code/ethereum" variant="styleless" data-discover="true">Ethereum</a></div></section></div></nav></div><div class="vocs_Sidebar_footer"><div class="vocs_Sidebar_footerCurtain"></div><div class="vocs_Sidebar_footerContent"><div class="vocs_Socials"><a class="vocs_Socials_button" href="https://github.com/johnwhitton" target="_blank" rel="noopener noreferrer"><div aria-label="GitHub" class="vocs_Icon vocs_Socials_icon" role="img" style="--vocs_Icon_size:17px"><svg width="100%" height="100%" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></div></a><div style="width:1px;margin-top:var(--vocs-space_4);margin-bottom:var(--vocs-space_4);background-color:var(--vocs-color_border)"></div><a class="vocs_Socials_button" href="https://twitter.com/johnwhitton" target="_blank" rel="noopener noreferrer"><div aria-label="X (Twitter)" class="vocs_Icon vocs_Socials_icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg"><title>X</title><path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z" fill="currentColor"></path></svg></div></a><div style="width:1px;margin-top:var(--vocs-space_4);margin-bottom:var(--vocs-space_4);background-color:var(--vocs-color_border)"></div><a class="vocs_Socials_button" href="https://t.me/john_whitton" target="_blank" rel="noopener noreferrer"><div aria-label="Telegram" class="vocs_Icon vocs_Socials_icon" role="img" style="--vocs_Icon_size:17px"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 50 50"><title>Telegram</title><path d="M25 2c12.703 0 23 10.297 23 23S37.703 48 25 48 2 37.703 2 25 12.297 2 25 2zm7.934 32.375c.423-1.298 2.405-14.234 2.65-16.783.074-.772-.17-1.285-.648-1.514-.578-.278-1.434-.139-2.427.219-1.362.491-18.774 7.884-19.78 8.312-.954.405-1.856.847-1.856 1.487 0 .45.267.703 1.003.966.766.273 2.695.858 3.834 1.172 1.097.303 2.346.04 3.046-.395.742-.461 9.305-6.191 9.92-6.693.614-.502 1.104.141.602.644-.502.502-6.38 6.207-7.155 6.997-.941.959-.273 1.953.358 2.351.721.454 5.906 3.932 6.687 4.49.781.558 1.573.811 2.298.811.725 0 1.107-.955 1.468-2.064z" fill="currentColor"></path></svg></div></a></div></div></div></aside></div><div class="vocs_DocsLayout_gutterTop vocs_DocsLayout_gutterTop_offsetLeftGutter"><div class="vocs_DesktopTopNav"><button class="vocs_DesktopSearch_search" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rlj»" data-state="closed"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-top:2px"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>Search...<div class="vocs_DesktopSearch_searchCommand"><div style="background:currentColor;transform:rotate(45deg);width:1.5px;border-radius:2px;height:100%"></div></div></button><div class="vocs_DesktopTopNav_logoWrapper"><div class="vocs_DesktopTopNav_logo"><a style="align-items:center;display:flex;height:56px;margin-top:4px" href="/" data-discover="true"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/images/jincubator.png"/></a></div></div><div class="vocs_DesktopTopNav_section"></div><div class="vocs_DesktopTopNav_section"><div class="vocs_DesktopTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a data-active="true" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/" variant="styleless" data-radix-collection-item="" data-discover="true">Home</a><a data-active="false" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/about" variant="styleless" data-radix-collection-item="" data-discover="true">About John</a><a data-active="false" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/resume" variant="styleless" data-radix-collection-item="" data-discover="true">Resume</a><a data-active="false" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/references/intro" variant="styleless" data-radix-collection-item="" data-discover="true">References</a><a data-active="false" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/writing/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Writing</a><a data-active="false" class="vocs_DesktopTopNav_item vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/research/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Research</a></ul></div></nav></div></div></div><div class="vocs_MobileTopNav"><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group"><div class="vocs_MobileTopNav_logo"><a style="align-items:center;display:flex;height:100%" href="/" data-discover="true"><img alt="Logo" class="vocs_NavLogo_logoImage vocs_Logo" src="/images/jincubator.png"/></a></div></div><div class="vocs_MobileTopNav_group"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="vocs_MobileTopNav_navigation vocs_NavigationMenu"><div style="position:relative"><ul data-orientation="horizontal" class="vocs_NavigationMenu_list" dir="ltr"><a data-active="true" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/" variant="styleless" data-radix-collection-item="" data-discover="true">Home</a><a data-active="false" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/about" variant="styleless" data-radix-collection-item="" data-discover="true">About John</a><a data-active="false" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/resume" variant="styleless" data-radix-collection-item="" data-discover="true">Resume</a><a data-active="false" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/references/intro" variant="styleless" data-radix-collection-item="" data-discover="true">References</a><a data-active="false" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/writing/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Writing</a><a data-active="false" class="vocs_NavigationMenu_link vocs_Link vocs_Link_styleless" href="/research/intro" variant="styleless" data-radix-collection-item="" data-discover="true">Research</a></ul></div></nav><div class="vocs_MobileTopNav_navigation vocs_MobileTopNav_navigation_compact"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rkpj»" data-state="closed" class="vocs_MobileTopNav_menuTrigger vocs_MobileTopNav_navigationItem">Home<div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Down</title><path d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button></div></div></div><div class="vocs_MobileTopNav_section"><div class="vocs_MobileTopNav_group" style="margin-right:-8px"><button class="vocs_MobileSearch_searchButton" type="button" aria-label="Search" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«R19j»" data-state="closed"><svg width="21" height="21" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></button></div></div></div></div><div class="vocs_DocsLayout_gutterTopCurtain vocs_DocsLayout_gutterTopCurtain_withSidebar"><div class="vocs_DesktopTopNav_curtain"></div><div class="vocs_MobileTopNav_curtain"><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«Rqj»" data-state="closed" class="vocs_MobileTopNav_menuTrigger"><div aria-label="Menu" class="vocs_Icon" role="img" style="--vocs_Icon_size:13px"><svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 79 48" fill="none"><title>Menu</title><path fill="currentColor" d="M19.528 47.232h40.87c1.952 0 3.515-1.562 3.515-3.564a3.5 3.5 0 0 0-3.516-3.516H19.528a3.501 3.501 0 0 0-3.515 3.516c0 2.002 1.562 3.564 3.515 3.564ZM12.057 27.262h55.81a3.501 3.501 0 0 0 3.516-3.516 3.501 3.501 0 0 0-3.515-3.515h-55.81a3.501 3.501 0 0 0-3.516 3.515 3.501 3.501 0 0 0 3.515 3.516ZM4.391 7.34H75.29c2.002 0 3.515-1.563 3.515-3.516 0-2.002-1.513-3.564-3.515-3.564H4.39C2.438.26.876 1.822.876 3.824A3.501 3.501 0 0 0 4.39 7.34Z"></path></svg></div><div class="vocs_MobileTopNav_menuTitle">Harmony</div></button></div></div><div class="vocs_MobileTopNav_curtainGroup"><div class="vocs_MobileTopNav_curtainItem"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«R5aj»" data-state="closed" class="vocs_MobileTopNav_outlineTrigger">On this page<div aria-label="On this page" class="vocs_Icon" role="img" style="--vocs_Icon_size:16px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Chevron Right</title><path d="M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button></div></div></div></div><div class="vocs_DocsLayout_gutterRight vocs_DocsLayout_gutterRight_withSidebar"></div><div id="vocs-content" class="vocs_DocsLayout_content vocs_DocsLayout_content_withSidebar vocs_DocsLayout_content_withTopNav"><article class="vocs_Content"><header class="vocs_Header"><h1 class="vocs_H1 vocs_Heading"><div id="harmony" class="vocs_Heading_slugTarget"></div>Harmony<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#harmony" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h1></header>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">date: 2023-02-04</li>
<li class="vocs_ListItem">last updated: 2023-02-04</li>
</ul>
<h2 class="vocs_H2 vocs_Heading"><div id="overview" class="vocs_Heading_slugTarget"></div>Overview<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#overview" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Despite relatively lower usage than other candidates, Harmony has a mature, battle-tested implementation for fast consensus using BLS-based signature schemes, which has been in production for over 2 years. Additionally, many other chains are also moving towards using BLS for signing blocks in their consensus protocols.</p>
<p class="vocs_Paragraph">Harmony follows a two-round Fast Byzantine Fault Tolerance consensus derived from PBFT, where BLS signatures (on the BLS12-381 curve) are used to reduce communication costs<sup><a class="vocs_Anchor" href="/research/chains/harmony#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>. Blocks are produced by validator leaders, a minimal subset of validators, then further broadcasted to all validators and confirmed when more than 2/3 of validators sign the block with their own BLS signatures. The leader then aggregates the signatures into a single one and broadcasts again. The validators may verify the aggregated signature and sign the block again before sending the signed block back to the leader. Finally, the leader (after receiving signatures from 2/3 of the validators) may aggregate the signature for one last time and finalize the block. In the block header, the leader records which validators&#x27; signatures are received in each round.</p>
<p class="vocs_Paragraph">The protocol uses a slot-bidding mechanism to elect a variable number of validators to fill 800-slots, where each validator may occupy multiple slots if their total delegated stake per slot is greater than the effective median<sup><a class="vocs_Anchor" href="/research/chains/harmony#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="consensus-mechanism" class="vocs_Heading_slugTarget"></div>Consensus Mechanism<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#consensus-mechanism" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<h3 class="vocs_H3 vocs_Heading"><div id="harmony-fast-byzantine-fault-tolerance-fbft" class="vocs_Heading_slugTarget"></div>Harmony Fast Byzantine Fault Tolerance (FBFT)<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#harmony-fast-byzantine-fault-tolerance-fbft" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<p class="vocs_Paragraph">The following is an excerpt from <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.harmony.one/home/general/technology/consensus" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Consensus</a></p>
<blockquote class="vocs_Blockquote">
<p class="vocs_Paragraph">The consensus algorithm is a key component of any blockchain. It determines the security and performance of a blockchain and is often referred to as the &quot;engine&quot; of a blockchain. Harmony’s consensus algorithm is called Fast Byzantine Fault Tolerance (FBFT), which is an innovative upgrade on the famous PBFT algorithm. FBFT is one order of magnitude faster and more scalable than PBFT because BLS (Boneh–Lynn–Shacham) aggregate signature is used to significantly reduce the communication cost. Specifically, FBFT allows at least 250 validators to reach consensus within 2 seconds.</p>
<p class="vocs_Paragraph">For every round of consensus in FBFT, one validator serves as the “leader” and there are three phases: the announce phase, the prepare phase and the commit phase. In the announce phase, the leader proposes a new block and broadcasts the block hash to all of the validators. In the prepare phase, validators verify the message and sign on the block hash, as well as sending the signature back to the leader. The prepare phase finishes when signatures with more than 2/3 of the voting power are collected. After that, the leader aggregated the collected signatures into a O(1)-sized BLS aggregate signature and then broadcast it with the whole block to start the commit phase. The commit phase involves validators verifying the block and doing a similar signing process as the prepare phase (i.e. 2/3 voting power collection). The consensus is reached after the commit phase is done. This whole process can be done within 2 seconds in mainnet.</p>
</blockquote>
<p class="vocs_Paragraph">The following is an excerpt from <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.harmony.one/home/network/validators/definitions/epoch-transition" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Epoch Transition</a></p>
<blockquote class="vocs_Blockquote">
<p class="vocs_Paragraph">An epoch is a period of time when the beacon shard (i.e. shard 0, the coordinator for other shards) produces a fixed number of blocks. In Harmony mainnet, an epoch is 32768 blocks (~18.2h with a 2s block time) in the beacon shard</p>
</blockquote>
<p class="vocs_Paragraph"><em>Note: If the leader fails to produce a block within a certain time frame, then a new leader is elected</em></p>
<p class="vocs_Paragraph"><img src="//research/harmony-consensus.png" alt="Harmony FBFT" title="Harmony FBFT"/></p>
<p class="vocs_Paragraph">Block Structure from <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/blob/main/block/v3/header.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">harmony</a></p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">type headerFields struct {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ParentHash          common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;parentHash&quot;       gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Coinbase            common.Address </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;miner&quot;            gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Root                common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;stateRoot&quot;        gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> TxHash              common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;transactionsRoot&quot; gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ReceiptHash         common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;receiptsRoot&quot;     gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> OutgoingReceiptHash common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;outgoingReceiptsRoot&quot;     gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> IncomingReceiptHash common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;incomingReceiptsRoot&quot; gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Bloom               ethtypes.Bloom </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;logsBloom&quot;        gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Number              *big.Int       </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;number&quot;           gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> GasLimit            uint64         </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;gasLimit&quot;         gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> GasUsed             uint64         </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;gasUsed&quot;          gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Time                *big.Int       </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;timestamp&quot;        gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Extra               []byte         </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;extraData&quot;        gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> MixDigest           common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;mixHash&quot;          gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> // Additional Fields</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ViewID              *big.Int </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;viewID&quot;           gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Epoch               *big.Int </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;epoch&quot;            gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ShardID             uint32   </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;shardID&quot;          gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> LastCommitSignature [</span><span style="color:#032F62;text-decoration:underline;--shiki-dark:#96D0FF;--shiki-dark-text-decoration:inherit" class="vocs_Span">96</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">]byte </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;lastCommitSignature&quot;  gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> LastCommitBitmap    []byte   </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;lastCommitBitmap&quot;     gencodec:&quot;required&quot;`</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> // Contains which validator signed</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Vrf                 []byte   </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;vrf&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Vdf                 []byte   </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;vdf&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ShardState          []byte   </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;shardState&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> CrossLinks          []byte   </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;crossLink&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Slashes             []byte   </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;slashes&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">}</span></span></code></pre></div></div>
<h2 class="vocs_H2 vocs_Heading"><div id="signing-mechanism" class="vocs_Heading_slugTarget"></div>Signing Mechanism<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#signing-mechanism" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Harmony uses BLS12_381 signatures for validators signing blocks. They began work on enhancing the <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/herumi/bls" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">herumi/bls package</a> in Jan 2019 to <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/bls/commit/302fc1eea9d59cecb1a464280944f5b152d7e781" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">support BLS12_381</a>. They have added <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/blob/main/crypto/bls/bls.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">bls</a> and <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/blob/main/multibls/multibls.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">mutibls</a> to the <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">harmony codbase</a> leveraging their <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/bls" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">harmony-one bls package</a>.</p>
<h2 class="vocs_H2 vocs_Heading"><div id="light-client-support" class="vocs_Heading_slugTarget"></div>Light Client Support<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#light-client-support" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">Harmony is actively looking at light client support<sup><a class="vocs_Anchor" href="/research/chains/harmony#user-content-fn-3" id="user-content-fnref-3" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup>.</p>
<p class="vocs_Paragraph">Some initial work has been done for the support of <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/opentimestamps/opentimestamps-server/blob/master/doc/merkle-mountain-range.mdx" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Merkle Mountain Ranges</a> has been proposed by Harmony in the pull request <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/pull/3872" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">[WIP] MMR-HardFork: add go-merklemountainrange and modified merkle proof logic #3872</a>.</p>
<p class="vocs_Paragraph">This introduces a new field into the block header populated by <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/gupadhyaya/harmony/blob/mmr-hard-fork/internal/mmr/mmr.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">mmr.go</a> which credits <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/zmitton/go-merklemountainrange" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">zmitton/go-merklemountainrange</a>.</p>
<p class="vocs_Paragraph">Updated <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/gupadhyaya/harmony/blob/mmr-hard-fork/block/interface/header.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Interface.go</a></p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">// MMRRoot is the root of the Merkle Mountain Range tree formed</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">// using the block hashes of the current epoch</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">MMRRoot() []byte</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">// SetMMRRoot sets the updated MMR root after appending the parentHash</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">SetMMRRoot(newMMRRoot []byte)</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Updated <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/gupadhyaya/harmony/blob/mmr-hard-fork/block/v4/header.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">header.go</a></p>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">// MMRRoot is the root of the Merkle Mountain Range tree formed</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">// using the block hashes of the current epoch</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">func (h *Header) MMRRoot() []byte {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> return append(h.fields.MMRRoot[</span><span style="color:#032F62;text-decoration:underline;--shiki-dark:#96D0FF;--shiki-dark-text-decoration:inherit" class="vocs_Span">:0:0</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">], h.fields.MMRRoot...)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">}</span></span>
<span class="line vocs_Span" data-empty-line="true"> </span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">// SetMMRRoot sets the updated MMR root after appending the parentHash</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">func (h *Header) SetMMRRoot(newMMRRoot []byte) {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> h.fields.MMRRoot = append(newMMRRoot[</span><span style="color:#032F62;text-decoration:underline;--shiki-dark:#96D0FF;--shiki-dark-text-decoration:inherit" class="vocs_Span">:0:0</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">], newMMRRoot...)</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">}</span></span></code></pre></div></div>
<p class="vocs_Paragraph">Harmony <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/pull/3872" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">MMR PR Review</a> and <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/pull/4198/files" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">latest PR</a> uses Merkle Mountain Ranges to facilitate light client development against Harmony&#x27;s sharded Proof of Stake Chain.</p>
<p class="vocs_Paragraph"><strong class="vocs_Strong">Key Core Protocol Changes Include</strong>
Block Structure from <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/peekpi/harmony/blob/mmrHardfork/block/v4/header.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">harmony</a> with <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.grin.mw/wiki/chain-state/merkle-mountain-range/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Merkle Mountain Range</a> support <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/pull/3872" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Mmr hardfork</a> <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/pull/4198" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">PR 4198</a> introduces <code class="vocs_Code">MMRoot</code></p>
<p class="vocs_Paragraph">GOAL: Allow verification that previous blocks were valid based on the MMRRoot Passed.</p>
<p class="vocs_Paragraph">Features</p>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem">add receipt proof</li>
<li class="vocs_ListItem">adding MMRRoot field to block header &amp; cross-chain epoch</li>
<li class="vocs_ListItem">add memdb and filedb mmr processing logic</li>
<li class="vocs_ListItem">add GetProof rpc</li>
<li class="vocs_ListItem">relayer rpcs for fetching full header</li>
<li class="vocs_ListItem">adding block signers for rpc response, debug-only</li>
<li class="vocs_ListItem">minor testing bls</li>
<li class="vocs_ListItem">fix merge conflicts</li>
<li class="vocs_ListItem">github.com/zmitton/go-merklemountainrange dependency</li>
<li class="vocs_ListItem">minor fix</li>
<li class="vocs_ListItem">moving mmr root compute/update logic to after the shard state is computed</li>
<li class="vocs_ListItem">fix getting siblings bug</li>
<li class="vocs_ListItem">adding index to mmr-proof and GetProof with respect to a block number</li>
<li class="vocs_ListItem">check if mmr directory exists, if not create it first</li>
<li class="vocs_ListItem">fixing failing test</li>
<li class="vocs_ListItem">fixing config build test failure</li>
<li class="vocs_ListItem">fixing more test failures</li>
<li class="vocs_ListItem">cleanup</li>
<li class="vocs_ListItem">turn of signers</li>
<li class="vocs_ListItem">fix header copy issue and write mmr root directly to node.worker header</li>
<li class="vocs_ListItem">fix nil pointer problems, shard state fetch issue, and refIndex bug</li>
<li class="vocs_ListItem">clean up</li>
</ul>
<div class="vocs_CodeBlock"><div class="vocs_Pre_wrapper"><pre style="background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7" tabindex="0" class="shiki shiki-themes github-light github-dark-dimmed vocs_Pre"><button class="vocs_CopyButton" data-copied="false" type="button"><div aria-label="Copy" class="vocs_Icon" role="img" style="--vocs_Icon_size:18px"><svg width="100%" height="100%" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H7V13H3.5C3.22386 13 3 12.7761 3 12.5V2.5C3 2.22386 3.22386 2 3.5 2H4V2.25C4 2.66421 4.33579 3 4.75 3H10.25C10.6642 3 11 2.66421 11 2.25V2H11.5C11.7761 2 12 2.22386 12 2.5V7H13V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM9 8.5C9 8.77614 8.77614 9 8.5 9C8.22386 9 8 8.77614 8 8.5C8 8.22386 8.22386 8 8.5 8C8.77614 8 9 8.22386 9 8.5ZM10.5 9C10.7761 9 11 8.77614 11 8.5C11 8.22386 10.7761 8 10.5 8C10.2239 8 10 8.22386 10 8.5C10 8.77614 10.2239 9 10.5 9ZM13 8.5C13 8.77614 12.7761 9 12.5 9C12.2239 9 12 8.77614 12 8.5C12 8.22386 12.2239 8 12.5 8C12.7761 8 13 8.22386 13 8.5ZM14.5 9C14.7761 9 15 8.77614 15 8.5C15 8.22386 14.7761 8 14.5 8C14.2239 8 14 8.22386 14 8.5C14 8.77614 14.2239 9 14.5 9ZM15 10.5C15 10.7761 14.7761 11 14.5 11C14.2239 11 14 10.7761 14 10.5C14 10.2239 14.2239 10 14.5 10C14.7761 10 15 10.2239 15 10.5ZM14.5 13C14.7761 13 15 12.7761 15 12.5C15 12.2239 14.7761 12 14.5 12C14.2239 12 14 12.2239 14 12.5C14 12.7761 14.2239 13 14.5 13ZM14.5 15C14.7761 15 15 14.7761 15 14.5C15 14.2239 14.7761 14 14.5 14C14.2239 14 14 14.2239 14 14.5C14 14.7761 14.2239 15 14.5 15ZM8.5 11C8.77614 11 9 10.7761 9 10.5C9 10.2239 8.77614 10 8.5 10C8.22386 10 8 10.2239 8 10.5C8 10.7761 8.22386 11 8.5 11ZM9 12.5C9 12.7761 8.77614 13 8.5 13C8.22386 13 8 12.7761 8 12.5C8 12.2239 8.22386 12 8.5 12C8.77614 12 9 12.2239 9 12.5ZM8.5 15C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14C8.22386 14 8 14.2239 8 14.5C8 14.7761 8.22386 15 8.5 15ZM11 14.5C11 14.7761 10.7761 15 10.5 15C10.2239 15 10 14.7761 10 14.5C10 14.2239 10.2239 14 10.5 14C10.7761 14 11 14.2239 11 14.5ZM12.5 15C12.7761 15 13 14.7761 13 14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5C12 14.7761 12.2239 15 12.5 15Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></div></button><code class="vocs_Code"><span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">type headerFields struct {</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ParentHash          common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;parentHash&quot;       gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Coinbase            common.Address </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;miner&quot;            gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Root                common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;stateRoot&quot;        gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> TxHash              common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;transactionsRoot&quot; gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ReceiptHash         common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;receiptsRoot&quot;     gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> OutgoingReceiptHash common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;outgoingReceiptsRoot&quot;     gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> IncomingReceiptHash common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;incomingReceiptsRoot&quot; gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Bloom               ethtypes.Bloom </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;logsBloom&quot;        gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Number              *big.Int       </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;number&quot;           gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> GasLimit            uint64         </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;gasLimit&quot;         gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> GasUsed             uint64         </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;gasUsed&quot;          gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Time                *big.Int       </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;timestamp&quot;        gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Extra               []byte         </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;extraData&quot;        gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> MixDigest           common.Hash    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;mixHash&quot;          gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> // Additional Fields</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ViewID              *big.Int    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;viewID&quot;           gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Epoch               *big.Int    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;epoch&quot;            gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ShardID             uint32      </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;shardID&quot;          gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> LastCommitSignature [</span><span style="color:#032F62;text-decoration:underline;--shiki-dark:#96D0FF;--shiki-dark-text-decoration:inherit" class="vocs_Span">96</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">]byte    </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;lastCommitSignature&quot;  gencodec:&quot;required&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> LastCommitBitmap    []byte      </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;lastCommitBitmap&quot;     gencodec:&quot;required&quot;`</span><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> // Contains which validator signed</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Vrf                 []byte      </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;vrf&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Vdf                 []byte      </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;vdf&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> ShardState          []byte      </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;shardState&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> CrossLinks          []byte      </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;crossLink&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> Slashes             []byte      </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;slashes&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span"> MMRRoot             common.Hash </span><span style="color:#005CC5;--shiki-dark:#6CB6FF" class="vocs_Span">`json:&quot;mmrRoot&quot;`</span></span>
<span class="line vocs_Span"><span style="color:#24292E;--shiki-dark:#ADBAC7" class="vocs_Span">}</span></span></code></pre></div></div>
<strong class="vocs_Strong">Sample Light Client Implementation: Horizon Bridge Harmony Light Client Deployed on Ethereum</strong>
<p class="vocs_Paragraph">This enables the validation of previous blocks by implemented by <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/johnwhitton/horizon/blob/refactorV2/contracts/TokenLockerOnEthereum.sol" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">TokenLockerOnEthereum.sol</a> to use <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/johnwhitton/horizon/blob/refactorV2/contracts/lib/MMRVerifier.sol" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">MMRVerifier.sol</a> uses <code class="vocs_Code">./lib/MMRVerifier.sol</code> to validate the <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/opentimestamps/opentimestamps-server/blob/master/doc/merkle-mountain-range.mdx" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Mountain Merkle Ranges</a></p>
<h2 class="vocs_H2 vocs_Heading"><div id="code-review" class="vocs_Heading_slugTarget"></div>Code Review<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#code-review" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<p class="vocs_Paragraph">The <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony codebase</a> was originally cloned from <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="/ethereum-1-0" data-discover="true">Ethereum 1.0</a> around 2019.Thus the majority of code incuding primitives, signing are similar as at that period. Since then Ethreum has worked siginficantly on Ethreum 2.0 and these modifications were selectively leveraged by Harmony.</p>
<p class="vocs_Paragraph"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://medium.com/harmony-one/2022-harmony-technical-review-88462efba368" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony has significant differences</a> from Ethereum 1.0 including sharding, Effective Proof of Stake Consensus Mechanism, <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://www.rosetta-api.org/docs/welcome.html" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Rosetta support</a> and verifiable delay functions and verifiaable random functions.</p>
<h3 class="vocs_H3 vocs_Heading"><div id="signing" class="vocs_Heading_slugTarget"></div>Signing<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#signing" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/blob/main/crypto/bls/bls.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">bls</a>: An implementation of BLS threshold signature</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/blob/main/multibls/multibls.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">multibls</a>: Wrapper for a collection of bls private and public keys with dedup functionality and the ability to serialize to a hex string.</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="consensus" class="vocs_Heading_slugTarget"></div>Consensus<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#consensus" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/consensus" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">consensus</a>: Consensus package includes the Harmony BFT consensus protocol code, which uses BLS-based multi-signature to cosign the new block. (details are <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://talk.harmony.one/t/bls-based-practical-bft-consensus/131" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">here</a>).</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/hmy" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">hmy</a>: implements the Harmony full node service.</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="sharding" class="vocs_Heading_slugTarget"></div>Sharding<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#sharding" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/shard" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">shard</a>: Trackes the shard state and committee assignment.</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="staking" class="vocs_Heading_slugTarget"></div>Staking<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#staking" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/staking" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">staking</a>: Implements staking for <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://blog.harmony.one/introducing-harmonys-effective-proof-of-stake-epos/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony&#x27;s Effective Proof of Stake</a>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/staking/apr" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">apr</a>: Calculates the expected rewards per year and the rewards for Validators.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/staking/availability" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">availablity</a>: Measures the availability of validators.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/staking/effective" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">effective</a>: Calcualates a validators effective proof of stake.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/staking/network" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">newtwork</a>: Calculates the network rewards.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/staking/reward" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">reward</a>: Checks whether rewards are issued and if so calculates the rewards based on total tokens staked.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/staking/slash" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">slash</a>: Slashes validators for malevolent acts such as double signing.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/staking/types" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">types</a>: Type definitions for staking structures.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/staking/verify" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">verify</a>: verifies aggregate signatures</li>
</ul>
</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="rosetta" class="vocs_Heading_slugTarget"></div>Rosetta<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#rosetta" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/rosetta" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">rosetta</a>: responsible for staring a <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://www.rosetta-api.org/docs/welcome.html" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">rosetta</a> http server.</li>
</ul>
<h3 class="vocs_H3 vocs_Heading"><div id="cryptographic-primitives" class="vocs_Heading_slugTarget"></div>Cryptographic Primitives<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#cryptographic-primitives" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h3>
<strong class="vocs_Strong">hash functions</strong>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/crypto/hash" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">hash</a>: Uses kecakk256 and sha256 and provides the abilty to hash the RLP representation of the given object.</li>
</ul>
<strong class="vocs_Strong">random number generators</strong>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/crypto/vdf" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">VDF</a>: Verifiable Random Delay Function. Package vdf is a proof-of-concept implementation of a delay function and the security properties are not guaranteed. A more secure implementation of the <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://eprint.iacr.org/2018/623.pdf" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">VDF by Wesolowski</a> is to be implemented.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/tree/main/crypto/vrf" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">VRF</a>: a pseudorandom function f_k from a secret key k, such that that knowledge of k not only enables one to evaluate f_k at for any message m, but also to provide an NP-proof that the value f_k(m) is indeed correct without compromising the unpredictability of f_k for any m&#x27; != m. See <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://dash.harvard.edu/bitstream/handle/1/5028196/Vadhan_VerifRandomFunction.pdf?sequence=2&amp;isAllowed=y" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Verifiable Random Functions</a>.</li>
</ul>
<h2 class="vocs_H2 vocs_Heading"><div id="references" class="vocs_Heading_slugTarget"></div>References<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#references" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<strong class="vocs_Strong">Consensus</strong>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.harmony.one/home/general/technology/consensus" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony FBFT Consensus Documentation</a>: Harmony’s consensus algorithm is called Fast Byzantine Fault Tolerance (FBFT), which is an innovative upgrade on the famous PBFT algorithm. As an implementation detail, note that custom <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/herumi/bls/issues/74" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">generator points are used</a>.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.harmony.one/home/network/validators/definitions/slots-bidding-and-election" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony Slot Bidding and Election</a></li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.harmony.one/home/network/validators/definitions/slots-bidding-and-election" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Building a Better Blockchain: The Implementation of External Leader Rotation on Harmony</a>: A proposal to improve the leader rotatation by introducing changes to incldue external validators.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/blob/main/consensus/consensus.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony consensus.go Code</a>: Harmony Consensus logic (go)</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/blob/main/consensus/quorum/quorum.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony quorom.go</a>: Harmony&#x27;s quorom logic responsible for trakcing participants, submitting and aggregating votes.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.grin.mw/wiki/chain-state/merkle-mountain-range/" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Merkle Mountain Ranges</a>: Merkle Mountain Ranges1 are an alternative to Merkle trees2. While the latter relies on perfectly balanced binary trees, the former can be seen either as list of perfectly balance binary trees or a single binary tree that would have been truncated from the top right.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/pull/3872" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony MMR-Hardfork Pull Request 3872</a>: a MMR hard fork PR that adds mmrRoot to block header, adds logic to compute the MMR tree every epoch, RPCs to fetch the MMR proof for any given transaction.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/harmony/pull/4198" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony MMR Hardfork Pull Request 4198</a>: Follow up MMR pull request. <em>MMR is a series of perfect Merkle trees, from high to low. Each Merkle tree root we call it peak. Concat all peak hash and hash it, will get MMR root hash.</em></li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/peekpi/harmony/blob/mmrHardfork/block/v4/header.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony MMRHardfork block header</a>: Harmony proposed block header including Merkle Mountain range (go).</li>
</ul>
<strong class="vocs_Strong">Signing</strong>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/harmony-one/bls/blob/master/ffi/go/bls/bls.go" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony bls.go codebase</a>: Harmony&#x27;s BLS library forked from <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/herumi/bls" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">herumi/bls</a> (go).</li>
</ul>
<strong class="vocs_Strong">Staking</strong>
<ul class="vocs_List vocs_List_unordered">
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.harmony.one/home/general/technology/effective-proof-of-stake" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony Effective Proof of Stake Documentation</a>: A staking mechanism for Harmony&#x27;s sharded blockchain that achieves both security and decentralization using effective stake.</li>
<li class="vocs_ListItem"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://staking.harmony.one/validators/mainnet" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony Staking Dashboard</a>: Staking Dashboard showing approximately 140 Elected Validators from 299 active validators.</li>
</ul>
<h2 class="vocs_H2 vocs_Heading"><div id="footnotes" class="vocs_Heading_slugTarget"></div>Footnotes<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#footnotes" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<section data-footnotes="true" class="footnotes vocs_Section vocs_Footnotes"><h2 class="sr-only vocs_H2 vocs_Heading"><div id="footnote-label" class="vocs_Heading_slugTarget"></div>Footnotes<a class="vocs_Anchor vocs_Autolink" aria-hidden="true" tabindex="-1" href="/research/chains/harmony#footnote-label" data-discover="true"><div data-autolink-icon="true" class="vocs_Div vocs_AutolinkIcon" style="--vocs_AutolinkIcon_iconUrl:url(/.vocs/icons/link.svg)"></div></a></h2>
<ol class="vocs_List vocs_List_ordered">
<li id="user-content-fn-1" class="vocs_ListItem">
<p class="vocs_Paragraph"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.harmony.one/home/general/technology/consensus" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony consensus documentation</a>. As an implementation detail, note that custom <a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://github.com/herumi/bls/issues/74" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">generator points are used</a> <a class="data-footnote-backref" href="/research/chains/harmony#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 1">↩</a></p>
</li>
<li id="user-content-fn-2" class="vocs_ListItem">
<p class="vocs_Paragraph"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://docs.harmony.one/home/network/validators/definitions/slots-bidding-and-election" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Harmony Slot Bidding and Election</a> <a class="data-footnote-backref" href="/research/chains/harmony#user-content-fnref-2" data-footnote-backref="" aria-label="Back to reference 2">↩</a></p>
</li>
<li id="user-content-fn-3" class="vocs_ListItem">
<p class="vocs_Paragraph"><a class="vocs_Anchor vocs_Link vocs_Link_accent" href="https://medium.com/harmony-one/scaling-the-harmony-protocol-with-light-clients-66d1eab26bf" target="_blank" rel="noopener noreferrer" style="--vocs_ExternalLink_iconUrl:url(/.vocs/icons/arrow-diagonal.svg)">Scaling the Harmony Protocol with Light Clients</a>: a step-by-step guide on how to develop and run a light client on the Harmony Protocol using code examples. <a class="data-footnote-backref" href="/research/chains/harmony#user-content-fnref-3" data-footnote-backref="" aria-label="Back to reference 3">↩</a></p>
</li>
</ol>
</section></article><footer class="vocs_Footer" data-layout="docs"><div class="vocs_Footer_container"></div><div><center><p><a href="https://meet.johnwhitton.com">Meet with John</a></p><p class="copyright">John Whitton.<!-- --> <a href="mailto:john@johnwhitton.com">john@johnwhitton.com</a></p><p class="copyright">© John Whitton. Design:<!-- --> <a href="https://html5up.net">HTML5 UP</a>.</p></center></div></footer></div><div data-bottom-observer="true"></div></div></div>
  </body>
</html>
